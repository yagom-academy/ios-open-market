# ì˜¤í”ˆë§ˆì¼“

## ëª©ì°¨
1. [ì†Œê°œ](#1ì†Œê°œ)
2. [íŒ€ì›](#2íŒ€ì›)
3. [íƒ€ì„ë¼ì¸](#3íƒ€ì„ë¼ì¸)
4. [ë‹¤ì´ì–´ê·¸ë¨](#4ë‹¤ì´ì–´ê·¸ë¨)
5. [ì‹¤í–‰ í™”ë©´](#5ì‹¤í–‰í™”ë©´)
6. [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#6íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)
7. [í•µì‹¬ ê²½í—˜](#7í”„ë¡œì íŠ¸-ìˆ˜í–‰-ì¤‘-í•µì‹¬-ê²½í—˜)
8. [ì°¸ê³  ë§í¬](#8ì°¸ê³ -ë§í¬)

## 1.ì†Œê°œ
ë§ˆíŠ¸ APIë¥¼ ë°›ì•„ì™€ì„œ ë·°ë¥¼ ë§Œë“œëŠ” Project

<br>

## 2.íŒ€ì›
| Minii | Baem |
| :---: | :---: |
| <img src=https://i.imgur.com/itNH4NF.png width="155" height="150">| <img src=https://i.imgur.com/jrW5RQj.png width="155" height="150" > |
|  [@Minii_GitHub](https://github.com/leegyoungmin) | [@Baem_GitHub](https://github.com/dylan-yoon) |

<br>

## 3.íƒ€ì„ë¼ì¸
**[STEP-1]**
- 221114
![](https://i.imgur.com/zhtbEMH.png)
    - ë„¤íŠ¸ì›Œí¬ íƒ€ì… êµ¬í˜„

- 221115
![](https://i.imgur.com/fpVv2mZ.png)
    - ë„¤íŠ¸ì›Œí¬ íƒ€ì… Unit Test êµ¬í˜„

- 221116

    ![](https://i.imgur.com/NJIEwAJ.png)
    - URLSessionì„ ì´ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí‚¹

- 221117

    ![](https://i.imgur.com/14CmxmD.png)
    - í´ë”ë§ ë° API íƒ€ì… í”„ë¡œí† ì½œë¡œ ì •ì˜ ë° ê³µí†µí™”
- 221118 : STEP1 - PR

    ![](https://i.imgur.com/C0j2WOn.png)
    - Test Double ì‘ì„±

**[STEP-2]**
- 221121 - REFACTORING
![](https://i.imgur.com/GbaovNU.png)
    - ë¦¬í™í† ë§
- 221122
    - ê°œì¸ í•™ìŠµ
- 221123
![](https://i.imgur.com/3EHdEqN.png)
    - ListView, GridView êµ¬í˜„
- 221124
![](https://i.imgur.com/eahJC7b.png)
    - stock í’ˆì ˆ ì²˜ë¦¬ ë° Grid Item Cell Autolayout ì„¤ì •
- 221125 : STEP2 - PR
![](https://i.imgur.com/r5WJ9mN.png)
    - ë‹¤ìŒí™”ë©´ ë° readme ì‘ì„±

<br>

## 4.ë‹¤ì´ì–´ê·¸ë¨
- íŒŒì¼ êµ¬ì¡°
```bash
â”œâ”€â”€ OpenMarket
â”‚Â Â  â”œâ”€â”€ NetworkUnitTest
â”‚Â Â  â”‚Â Â  â””â”€â”€ NetworkUnitTest.swift
â”‚Â Â  â””â”€â”€ OpenMarket
â”‚Â Â   Â Â  â”œâ”€â”€ Resource
â”‚Â Â   Â Â  â”œâ”€â”€ Controller
â”‚Â Â   Â Â  â”‚Â Â  â””â”€â”€ ViewController.swift
â”‚Â Â   Â Â  â”œâ”€â”€ Extensions
â”‚Â Â   Â Â  â”‚Â Â  â””â”€â”€ Networking
â”‚Â Â   Â Â  â”‚Â Â      â””â”€â”€ Dictionary+.swift
â”‚Â Â   Â Â  â”œâ”€â”€ Model
â”‚Â Â   Â Â  â”‚Â Â  â””â”€â”€ Networking
â”‚Â Â   Â Â  â”‚Â Â      â”œâ”€â”€ APIType.swift
â”‚Â Â   Â Â  â”‚Â Â      â”œâ”€â”€ DTO
â”‚Â Â   Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ Currency.swift
â”‚Â Â   Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ Product.swift
â”‚Â Â   Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ ProductListResponse.swift
â”‚Â Â   Â Â  â”‚Â Â      â”œâ”€â”€ NetworkError.swift
â”‚Â Â   Â Â  â”‚Â Â      â”œâ”€â”€ NetworkManager.swift
â”‚Â Â   Â Â  â”‚Â Â      â”œâ”€â”€ NetworkTypes
â”‚Â Â   Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ OpenMarketAPI.swift
â”‚Â Â   Â Â  â”‚Â Â      â””â”€â”€ TestDouble
â”‚Â Â   Â Â  â”‚Â Â          â”œâ”€â”€ StubURLSession.swift
â”‚Â Â   Â Â  â”‚Â Â          â””â”€â”€ URLSessionProtocol.swift
â”‚Â Â   Â Â  â””â”€â”€ View
â”‚Â Â   Â Â      â””â”€â”€ Main.storyboard
â””â”€â”€ README.md
```

- ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ UML
![](https://i.imgur.com/X7hKyNV.png)



## 5.ì‹¤í–‰í™”ë©´
#### STEP1
![testCoverage](https://i.imgur.com/2UZW8hG.png)

![netWorkView](https://i.imgur.com/M18lPLd.png)

#### STEP2
![Scroll Image](https://i.imgur.com/bGnwwdP.gif)



## 6.íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
### JSON íŒŒì¼ê³¼ ì„œë²„ì˜ ì‘ë‹µ JSONì˜ í˜•ì‹ì´ ë‹¤ë¥¸ ê²ƒ
- ìš”êµ¬ì‚¬í•­ ë‚´ì—ì„œ JSON íŒŒì¼ì„ í†µí•´ì„œ êµ¬í˜„í•œ íƒ€ì…ì„ ê²€ì¦í•˜ë ¤ê³  í•˜ì˜€ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì‘ë‹µ ë°ì´í„°ì˜ í˜•ì‹ì´ ë‹¬ë¼ì„œ ê³ ë¯¼í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
- JSON íŒŒì¼ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ì§€ë§Œ, ì‹¤ì§ˆì ìœ¼ë¡œ í•„ìš”í•œ ë°ì´í„°ëŠ” ì‘ë‹µì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¼ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.
- ë˜í•œ, ë‹¤ì–‘í•œ ë¡œì»¬ ë°ì´í„°ë¥¼ ì§„í–‰í•˜ëŠ” ê²ƒë³´ë‹¤ Mockì„ í™œìš©í•œ ë„¤íŠ¸ì›Œí‚¹ì´ ì£¼ëœ í…ŒìŠ¤íŠ¸ì˜ ì˜ë¯¸ë¼ê³  ìƒê°í•˜ì—¬ì„œ ì‘ë‹µ ë°ì´í„°ì— ë§ì¶°ì„œ ë¡œì»¬ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.
    
### POPë¥¼ í™œìš©í•œ URL êµ¬ì„±

```swift
class NetworkManager {
    let baseURL: String = "https://openmarket.yagom-academy.kr"
    
    func requestHealthChecker() {
        // URL ìƒì„±
        guard let url = URL(string: baseURL + "/healthChecker") else {
            return
        }
        ...
    }
    
    func requestProductListSearching() {
        //URL ìƒì„±
        guard let url = URL(string: baseURL + "/api/products?page_no=1&items_per_page=100" ) else {
            return
        }
        ...
    }
    
    func requestDetailProductListSearching(_ id: Int) {
        //URL ìƒì„±
        guard let url = URL(string: baseURL + "/api/products" + "/\(id)") else {
            return
        }
        ...
    }
}

```
```swift
protocol APIType {
    var baseURL: String { get }
    var path: String { get }
    var params: [String: String] { get }
    
    func generateURL() -> URL?
}


struct NetworkManager<T: Decodable> {
    private var session: URLSession = URLSession(configuration: .default)
    
    func fetchData(endPoint: APIType, completion: @escaping (Result<T, NetworkError>) -> Void) {
        guard let url = endPoint.generateURL() else {
            completion(.failure(.invalidURL))
            return
        }
        ...
    }
}
```
- ì²˜ìŒ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•  ë•Œì—ëŠ” ê°ê°€ì˜ APIì˜ URLì— ë”°ë¼ì„œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ê°ê°ì˜ Queryì™€ Pathê°€ ìœ ë™ì ìœ¼ë¡œ ë³€ê²½ë˜ì–´ì•¼ í•œë‹¤ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.
- ìœ„ì™€ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ Alamofire`ì™€ `Moya` ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ í™œìš©í•œ ë°©ë²•ì„ ì°¸ê³ í•˜ì—¬ì„œ êµ¬í˜„í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
- `Moya` ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ í™œìš©í•œ ë°©ë²•ì¸ ê°ê°ì˜ APIë“¤ì„ í•œê°œì˜ í”„ë¡œí† ì½œë¡œ ì±„íƒí•˜ì—¬ì„œ í™•ì¥ì„±ì„ ê³ ë ¤í•˜ëŠ” ë¶€ë¶„ì„ ì°¸ê³ í•˜ì—¬ì„œ êµ¬í˜„í–ˆìœ¼ë©°, `Alamofire`ì—ì„œ í™œìš©í•œ ì¿¼ë¦¬ì— ì„¸ë¶€ì‚¬í•­ì„ ì°¸ê³ í•˜ì—¬ì„œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì´ì— ëŒ€í•´ì„œ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆëŠ” í”„ë¡œí† ì½œì„ í†µí•´ì„œ ê³µí†µí™”ë¥¼ í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ê³ , ì´ë¥¼ í†µí•´ì„œ ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆëŠ” URL íƒ€ì…ì„ êµ¬ì„±í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
- í•˜ì§€ë§Œ, ìœ„ì™€ ê°™ì€ ë°©ì‹ì„ í™œìš©í•˜ì—¬ ê°ê°ì˜ íƒ€ì…ë³„ë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ë„ë¡ í•˜ì—¬ì•¼ í•˜ëŠ” ë¬¸ì œì ì´ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ë” ê³µë¶€í•˜ê³ , ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ í•˜ì—¬ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.
<br>

### ë°ì´í„°ê°€ ì„¤ì •ëœ í›„, CollectionViewê°€ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ 
- ë°ì´í„°ê°€ ì„¤ì •ëœ í›„, CollectionViewê°€ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ
    - fetchData í•¨ìˆ˜ë¥¼ í†µí•´ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ ë’¤, ë°ì´í„°ê°€ ì„¤ì •ë˜ì—ˆì„ ë•Œ, `CollectionView`ê°€ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.
    - ë·°ë¥¼ ì—…ë°ì´íŠ¸ í•˜ê¸° ìœ„í•´ì„œ `dispatchQueue.main.async` ë‚´ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
    - í•˜ì§€ë§Œ, í´ë¡œì € ë‚´ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ì„¤ì •í•˜ê³ , ë·°ì— ëŒ€í•œ ì—…ë°ì´íŠ¸ë¥¼ í•˜ëŠ” ê²ƒì´ ì ì ˆí•œ ì—­í• ì´ ì•„ë‹ˆë¼ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.
    - ê·¸ë˜ì„œ, í”„ë¡œí¼í‹° ì˜µì €ë²„ë¥¼ í™œìš©í•˜ì—¬ì„œ `CollectionView`ë¥¼ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
- ë³€ê²½ì „
    ```swift
        func fetchData() {
            let endPoint = OpenMarketAPI.productsList(
                pageNumber: currentPage,
                rowCount: 200
            )
            
            productResponseNetworkManager.fetchData(endPoint: endPoint) { result in
                switch result {
                case .success(let data):
                    DispatchQueue.main.async {
                        self.productsData = data
                        self.collectionView.reloadData()
                    }

                case .failure(let error):
                    print(error)
                }
            }
        }
    ```
- ë³€ê²½í›„
    ```swift
        private var productsData: ProductListResponse? {
            didSet {
                DispatchQueue.main.async {
                    self.collectionView.reloadData()
                }
            }
        }
    ```
### ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ëŠ” ê³¼ì •ì—ì„œ ì‘ì—… ì§ì ‘ ì‹¤í–‰í•˜ì—¬, ë¡œë”©ì´ ëŠ¦ëŠ” ë¬¸ì œ
- ì´ë¯¸ì§€ë¥¼ ë¡œë“œ í•˜ëŠ” ê³¼ì •ì„ `cellForItemAt` ë©”ì„œë“œ ë‚´ë¶€ì—ì„œ ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- í•˜ì§€ë§Œ, ì´ë¡œ ì¸í•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.
    1. í˜„ì¬ cellì˜ ì´ë¯¸ì§€ ë¡œë“œ ì‘ì—…ì´ ì´ì „ì˜ ì‹¤í–‰í•œ ì‘ì—…ìœ¼ë¡œ ì¸í•´ì„œ ëŠ¦ê²Œ ì‘ì—…í•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•¨.
    2. í˜„ì¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ì „ì— ì´ì „ì˜ ì‘ì—…í•œ ê²°ê³¼ê°€ í˜„ì¬ cellì— ë“¤ì–´ì˜¤ëŠ” ê²½ìš°ê°€ ë°œìƒí•¨.
- ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ `cellForItemAt` ë©”ì„œë“œì—ì„œëŠ” ì´ë¯¸ì§€ ë¡œë“œ Taskë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ í•˜ê³ , ì´ë¥¼ Cellì´ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
- ë˜í•œ, `prepareForReuse` ë©”ì„œë“œ ë‚´ë¶€ì—ì„œ ì‘ì—…ì„ ì·¨ì†Œí•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

## 8.ì°¸ê³  ë§í¬
- Apple Developer 
    - [Generic](https://docs.swift.org/swift-book/LanguageGuide/Generics.html)
    - [Choosing Between Structures and Classes](https://developer.apple.com/documentation/swift/choosing-between-structures-and-classes)
    - [Attributedtext](https://developer.apple.com/documentation/uikit/uilabel/1620542-attributedtext)
- Swift Programming Language
    - [í´ë¡œì € ìº¡ì³(ìº¡ì³ ê°’)](https://docs.swift.org/swift-book/LanguageGuide/Closures.html)
    - [í´ë¡œì €ì˜ ê°•í•œ ì°¸ì¡°](https://docs.swift.org/swift-book/LanguageGuide/AutomaticReferenceCounting.html#ID56)
- ì•¼ê³°ë‹·ë„·
    - [ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°](https://yagom.net/courses/%EB%8F%99%EC%8B%9C%EC%84%B1-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-concurrency-programming/)
    - [Test Double](https://yagom.net/courses/unit-test-ì‘ì„±í•˜ê¸°/lessons/í…ŒìŠ¤íŠ¸ë¥¼-ìœ„í•œ-ê°ì²´-ë§Œë“¤ê¸°/topic/test-double/)
    - [URLSession](https://developer.apple.com/documentation/foundation/urlsession)
---
[ğŸ” ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#ì˜¤í”ˆë§ˆì¼“)


